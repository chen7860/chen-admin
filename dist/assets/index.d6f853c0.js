import{p as g,s as de,ax as fe,S as C,a as Y,ae as ge,w as A,f as B,aq as ve,X as he,Y as J,ct as me,ap as pe,cu as be,cv as Ce,b as ne,bn as He,M as re,o as E,i as K,n as U,aH as T,r as z,bB as oe,K as _e,V as x,cw as ye,L as ie,j as w,cx as Pe,cy as $e,J as Fe,cz as ke,aK as H,b4 as Be,ab as we,au as te,aD as X,k as q,aF as Re,aG as Se,B as W,aI as Te,aJ as Oe,F as Ae,C as Ie,t as Ne,aE as Ee,l as G,O as le}from"./index.40f28117.js";import{B as je}from"./index.4f5af4cb.js";import{A as Ve}from"./index.4a603b3b.js";import{u as ze}from"./useWindowSizeFn.8d01d8dc.js";import{a as We}from"./useContentViewHeight.a9642e78.js";import"./index.b7896ea2.js";import{T as xe}from"./transButton.cca87ed8.js";import{A as Me}from"./ArrowLeftOutlined.e04bc070.js";var Le={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M869 487.8L491.2 159.9c-2.9-2.5-6.6-3.9-10.5-3.9h-88.5c-7.4 0-10.8 9.2-5.2 14l350.2 304H152c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h585.1L386.9 854c-5.6 4.9-2.2 14 5.2 14h91.5c1.9 0 3.8-.7 5.2-2L869 536.2a32.07 32.07 0 000-48.4z"}}]},name:"arrow-right",theme:"outlined"},De=Le;function ae(e){for(var a=1;a<arguments.length;a++){var d=arguments[a]!=null?Object(arguments[a]):{},m=Object.keys(d);typeof Object.getOwnPropertySymbols=="function"&&(m=m.concat(Object.getOwnPropertySymbols(d).filter(function(n){return Object.getOwnPropertyDescriptor(d,n).enumerable}))),m.forEach(function(n){Je(e,n,d[n])})}return e}function Je(e,a,d){return a in e?Object.defineProperty(e,a,{value:d,enumerable:!0,configurable:!0,writable:!0}):e[a]=d,e}var Z=function(a,d){var m=ae({},a,d.attrs);return g(de,ae({},m,{icon:De}),null)};Z.displayName="ArrowRightOutlined";Z.inheritAttrs=!1;var Xe=Z,qe={backIcon:C.VNodeChild,prefixCls:C.string,title:C.VNodeChild,subTitle:C.VNodeChild,breadcrumb:C.object,tags:C.any,footer:C.VNodeChild,extra:C.VNodeChild,avatar:C.object,ghost:C.looseBool,onBack:C.func},Ge=Y({name:"APageHeader",props:qe,emits:["back"],slots:["backIcon","avatar","breadcrumb","title","subTitle","tags","extra","footer"],setup:function(a,d){var m=d.emit,n=d.slots,_=ge("page-header",a),f=_.prefixCls,p=_.direction,y=_.pageHeader,P=A(!1),O=function(t){var r=t.width;P.value=r<768},$=B(function(){var i,t,r;return(r=(i=a.ghost)!==null&&i!==void 0?i:(t=y.value)===null||t===void 0?void 0:t.ghost)!==null&&r!==void 0?r:!0}),R=function(){var t,r,s;return(s=(t=a.backIcon)!==null&&t!==void 0?t:(r=n.backIcon)===null||r===void 0?void 0:r.call(n))!==null&&s!==void 0?s:p.value==="rtl"?g(Xe,null,null):g(Me,null,null)},S=function(t){return!t||!a.onBack?null:g(Ce,{componentName:"PageHeader",children:function(s){var h=s.back;return g("div",{class:"".concat(f.value,"-back")},[g(xe,{onClick:function(l){m("back",l)},class:"".concat(f.value,"-back-button"),"aria-label":h},{default:function(){return[t]}})])}},null)},u=function(){var t;return a.breadcrumb?g(je,a.breadcrumb,null):(t=n.breadcrumb)===null||t===void 0?void 0:t.call(n)},F=function(){var t,r,s,h,o,l,c,k,I,M=a.avatar,j=(t=a.title)!==null&&t!==void 0?t:(r=n.title)===null||r===void 0?void 0:r.call(n),V=(s=a.subTitle)!==null&&s!==void 0?s:(h=n.subTitle)===null||h===void 0?void 0:h.call(n),L=(o=a.tags)!==null&&o!==void 0?o:(l=n.tags)===null||l===void 0?void 0:l.call(n),D=(c=a.extra)!==null&&c!==void 0?c:(k=n.extra)===null||k===void 0?void 0:k.call(n),N="".concat(f.value,"-heading"),Q=j||V||L||D;if(!Q)return null;var ce=R(),ee=S(ce),ue=ee||M||Q;return g("div",{class:N},[ue&&g("div",{class:"".concat(N,"-left")},[ee,M?g(Ve,M,null):(I=n.avatar)===null||I===void 0?void 0:I.call(n),j&&g("span",{class:"".concat(N,"-title"),title:typeof j=="string"?j:void 0},[j]),V&&g("span",{class:"".concat(N,"-sub-title"),title:typeof V=="string"?V:void 0},[V]),L&&g("span",{class:"".concat(N,"-tags")},[L])]),D&&g("span",{class:"".concat(N,"-extra")},[D])])},b=function(){var t,r,s=(t=a.footer)!==null&&t!==void 0?t:pe((r=n.footer)===null||r===void 0?void 0:r.call(n));return be(s)?null:g("div",{class:"".concat(f.value,"-footer")},[s])},v=function(t){return g("div",{class:"".concat(f.value,"-content")},[t])};return function(){var i,t,r,s=((t=a.breadcrumb)===null||t===void 0?void 0:t.routes)||n.breadcrumb,h=a.footer||n.footer,o=ve((r=n.default)===null||r===void 0?void 0:r.call(n)),l=he(f.value,(i={"has-breadcrumb":s,"has-footer":h},J(i,"".concat(f.value,"-ghost"),$.value),J(i,"".concat(f.value,"-rtl"),p.value==="rtl"),J(i,"".concat(f.value,"-compact"),P.value),i));return g(me,{onResize:O},{default:function(){return[g("div",{class:l},[u(),F(),o.length?v(o):null,b()])]}})}}}),Ke=fe(Ge);const Ue=Y({name:"PageFooter",inheritAttrs:!1,setup(){const{prefixCls:e}=ne("page-footer"),{getCalcContentWidth:a}=He();return{prefixCls:e,getCalcContentWidth:a}}});function Ye(e,a,d,m,n,_){return E(),K("div",{class:z(e.prefixCls),style:oe({width:e.getCalcContentWidth})},[U("div",{class:z(`${e.prefixCls}__left`)},[T(e.$slots,"left",{},void 0,!0)],2),T(e.$slots,"default",{},void 0,!0),U("div",{class:z(`${e.prefixCls}__right`)},[T(e.$slots,"right",{},void 0,!0)],2)],6)}var se=re(Ue,[["render",Ye],["__scopeId","data-v-7984b8f2"]]);function Ze(e){let a;_e(()=>{e(),x(()=>{a=!0})}),ye(()=>{a&&e()})}function Qe(e,a,d,m,n=0,_=A(0)){const f=A(null),{footerHeightRef:p}=We();let y={useLayoutFooter:!0};const P=u=>{y=u};function O(){x(()=>{S()})}function $(u,F="all"){var t,r,s,h;function b(o){return Number(o.replace(/[^\d]/g,""))}let v=0;const i="0px";if(u){const o=getComputedStyle(u),l=b((t=o==null?void 0:o.marginTop)!=null?t:i),c=b((r=o==null?void 0:o.marginBottom)!=null?r:i),k=b((s=o==null?void 0:o.paddingTop)!=null?s:i),I=b((h=o==null?void 0:o.paddingBottom)!=null?h:i);F==="all"?(v+=l,v+=c,v+=k,v+=I):F==="top"?(v+=l,v+=k):(v+=c,v+=I)}return v}function R(u){return u==null?null:u instanceof HTMLDivElement?u:u.$el}async function S(){var h;if(!e.value)return;await x();const u=R(w(a));if(!u)return;const{bottomIncludeBody:F}=Pe(u);let b=0;d.forEach(o=>{var l,c;b+=(c=(l=R(w(o)))==null?void 0:l.offsetHeight)!=null?c:0});let v=(h=$(u))!=null?h:0;m.forEach(o=>{v+=$(R(w(o)))});let i=0;function t(o,l){if(o&&l){const c=o.parentElement;c&&(Fe(l)?c.classList.contains(l)?i+=$(c,"bottom"):(i+=$(c,"bottom"),t(c,l)):ke(l)&&l>0&&(i+=$(c,"bottom"),t(c,--l)))}}$e(n)?t(u,w(n)):t(u,n);let r=F-w(p)-w(_)-b-v-i;const s=()=>{var o;(o=y.elements)==null||o.forEach(l=>{var c,k;r+=(k=(c=R(w(l)))==null?void 0:c.offsetHeight)!=null?k:0})};y.useLayoutFooter&&w(p)>0,s(),f.value=r}return Ze(()=>{x(()=>{S()})}),ze(()=>{S()},50,{immediate:!0}),ie(()=>[p.value],()=>{S()},{flush:"post",immediate:!0}),{redoHeight:O,setCompensation:P,contentHeight:f}}const et=Y({name:"PageWrapper",components:{PageFooter:se,PageHeader:Ke},inheritAttrs:!1,props:{title:H.string,dense:H.bool,ghost:H.bool,content:H.string,contentStyle:{type:Object},contentBackground:H.bool,contentFullHeight:H.bool,contentClass:H.string,fixedHeight:H.bool,upwardSpace:H.oneOfType([H.number,H.string]).def(0)},setup(e,{slots:a,attrs:d}){const m=A(null),n=A(null),_=A(null),f=A(null),{prefixCls:p}=ne("page-wrapper"),y=Be();console.log(y),we(nt,B(()=>e.fixedHeight));const P=B(()=>e.contentFullHeight),O=B(()=>e.upwardSpace),{redoHeight:$,setCompensation:R,contentHeight:S}=Qe(P,m,[n,f],[_],O);R({useLayoutFooter:!0,elements:[f]});const u=B(()=>{var t;return[p,{[`${p}--dense`]:e.dense},(t=d.class)!=null?t:{}]}),F=B(()=>(a==null?void 0:a.leftFooter)||(a==null?void 0:a.rightFooter)),b=B(()=>Object.keys(te(a,"default","leftFooter","rightFooter","headerContent"))),v=B(()=>{const{contentFullHeight:t,contentStyle:r,fixedHeight:s}=e;if(!t)return{...r};const h=`${w(S)}px`;return{...r,minHeight:h,...s?{height:h}:{}}}),i=B(()=>{const{contentBackground:t,contentClass:r}=e;return[`${p}-content`,r,{[`${p}-content-bg`]:t}]});return ie(()=>[F.value],()=>{$()},{flush:"post",immediate:!0}),{getContentStyle:v,wrapperRef:m,headerRef:n,contentRef:_,footerRef:f,getClass:u,getHeaderSlots:b,prefixCls:p,getShowFooter:F,route:y,omit:te,getContentClass:i}}});function tt(e,a,d,m,n,_){const f=X("PageHeader"),p=X("CesiumMap"),y=X("PageFooter");return E(),K("div",{class:z(e.getClass),ref:"wrapperRef"},[e.content||e.$slots.headerContent||e.title||e.getHeaderSlots.length?(E(),q(f,Ee({key:0,ghost:e.ghost,title:e.title},e.omit(e.$attrs,"class"),{ref:"headerRef"}),Re({default:W(()=>[e.content?(E(),K(Ae,{key:0},[Ie(Ne(e.content),1)],64)):T(e.$slots,"headerContent",{key:1})]),_:2},[Se(e.getHeaderSlots,P=>({name:P,fn:W(O=>[T(e.$slots,P,Te(Oe(O||{})))])}))]),1040,["ghost","title"])):G("",!0),U("div",{class:z(["overflow-hidden",e.getContentClass]),style:oe(e.getContentStyle),ref:"contentRef"},[e.route.meta.useCesium?(E(),q(p,{key:0})):G("",!0),T(e.$slots,"default")],6),e.getShowFooter?(E(),q(y,{key:1,ref:"footerRef"},{left:W(()=>[T(e.$slots,"leftFooter")]),right:W(()=>[T(e.$slots,"rightFooter")]),_:3},512)):G("",!0)],2)}var at=re(et,[["render",tt]]);le(se);const ft=le(at),nt="PageWrapperFixedHeight";export{ft as P,nt as a,Ze as o};
